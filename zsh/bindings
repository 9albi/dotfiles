# vim: filetype=zsh

bindkey -e        # Emacs keybindings
# bindkey -v        # Vim Keybindings
## Keybindings section

bindkey "^[[3~" delete-char              # Delete key
bindkey '^[[2~' overwrite-mode           # Insert key
bindkey "^[[H"  beginning-of-line        # Home
bindkey "^[[F"  end-of-line              # End
bindkey '^[[Z' reverse-menu-complete     # Shift-Tab

bindkey '^[[1;5C' forward-word           # ctrl + ->
bindkey '^[[1;5D' backward-word           # ctrl + <-
bindkey ' ' magic-space                  # History expansion on space

# https://unix.stackexchange.com/a/97844
autoload -U history-search-end

zle -N history-beginning-search-backward-end history-search-end
zle -N history-beginning-search-forward-end history-search-end

bindkey '^P' history-beginning-search-backward-end           # CTRL+p
bindkey '^N' history-beginning-search-forward-end            # CTRL+n

# Use vim keys to select autocompletion
_comp_options+=(globdots)		# Include hidden files.

zmodload -i zsh/complist
bindkey -M menuselect '^h' vi-backward-char
bindkey -M menuselect '^k' vi-up-line-or-history
bindkey -M menuselect '^l' vi-forward-char
bindkey -M menuselect '^j' vi-down-line-or-history


bindkey '^ ' autosuggest-accept                               # zsh autosuggestions completion

# edit command in editor
autoload -z edit-command-line
zle -N edit-command-line
bindkey "^X^E" edit-command-line

